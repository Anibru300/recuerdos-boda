<!DOCTYPE html>
<html>
  <body>
    <h3>Formulario con foto</h3>

    <input type="text" id="nombre" placeholder="Nombre"><br><br>
    <input type="email" id="correo" placeholder="Correo"><br><br>
    <textarea id="comentario" placeholder="Comentario"></textarea><br><br>

    <input type="file" id="foto" accept="image/*"><br><br>

    <button onclick="enviar()">Enviar</button>

    <script>
      function enviar() {
        const fileInput = document.getElementById("foto");
        const file = fileInput.files[0];

        const reader = new FileReader();

        reader.onload = function () {
          fetch("https://script.google.com/macros/s/AKfycbw3SsyyINpLH2oBxgw4Kcrr3haGdkM9yoyrZ42lj6QZmUGrk_jf4AsEWQFx4nKakyZmOA/exec", {
            method: "POST",
            body: JSON.stringify({
              nombre: document.getElementById("nombre").value,
              correo: document.getElementById("correo").value,
              comentario: document.getElementById("comentario").value,
              fotoBase64: reader.result,
              fotoNombre: file.name
            })
          })
          .then(r => r.json())
          .then(r => alert("Enviado correctamente"));
        };

        reader.readAsDataURL(file);
      }
    </script>
  </body>
</html>
